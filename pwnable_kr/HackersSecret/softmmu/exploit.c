#include <stdio.h>
#include <unistd.h>
#include <errno.h>

typedef unsigned int u32;

const char* softmmu_dev = "/proc/softmmu"; 
int fd = -1;


write_to_dev(void* buf, int len)
{
    int w = write(fd, buf, len);
    if(w != len) {
        printf("Failed to write %d (%d) bytes from buf: %p to fd: %d\n", len, w, buf, fd);
    }
    return w;
}

int main(int argc, char** argv)
{
    u32 vaddr = atoul(argv[1]);
    
    fd = open(softmmu_dev, O_RDWR);
    if(fd == -1) {
        printf("Failed to open %s, errno: %d, exiting.\n", softmmu_dev, errno);
        exit(1);
    }
}
